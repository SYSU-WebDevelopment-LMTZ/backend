{"version":3,"sources":["webpack:///src/components/ordersManage.vue","webpack:///./src/components/ordersManage.vue?c696","webpack:///./src/components/ordersManage.vue"],"names":["ordersManage","data","searchText","allorders","orders_map","merchant_id","this","merchant","inputDate","loading","pages","startDate","endDate","created","getData","components","headtop","methods","search","_this","console","log","_axios_0_18_0_axios_default","a","get","then","response","catch","error","reArraneOrder","Date","that","forEach","element","publish_at","show","searchOrder","event","components_ordersManage","render","_vm","_h","$createElement","_c","_self","staticClass","on","model","value","callback","$$v","expression","_v","attrs","type","range-separator","start-placeholder","end-placeholder","icon","click","staticStyle","width","border","scopedSlots","_u","key","fn","props","label-position","inline","label","_s","row","tableid","state","note","dishes","header-align","size","prop","align","scope","layout","total","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.b05c83ccef5f412b5693.js","sourcesContent":["<template>\n  <div class=\"orders\">\n    <headtop v-model=\"searchText\" v-on:search=\"search\"></headtop>\n    <el-tag class=\"info-tag\">\n      今日订单\n    </el-tag>\n\n    <div class=\"orders-table\">\n      <el-date-picker class=\"date-picker\" v-model=\"inputDate\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\">\n      </el-date-picker>\n\n      <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchOrder\">搜索</el-button>\n\n      <el-table class=\"order\" border :data=\"allorders\" style=\"width: 100%\" ><!--v-loading=\"loading\"-->\n        <el-table-column type=\"expand\">\n          <template slot-scope=\"props\">\n            <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n              <el-form-item label=\"桌号\">\n                <span>{{ props.row.tableid }}</span>\n              </el-form-item>\n              <el-form-item label=\"是否已支付\">\n                <span>{{ props.row.state }}</span>\n              </el-form-item>\n              <el-form-item label=\"备注\">\n                <span>{{ props.row.note }}</span>\n              </el-form-item>\n              <el-form-item label=\"商品\"></el-form-item>\n            </el-form>\n            <el-table :data=\"props.row.dishes\" header-align=\"center\" size=\"mini\" border>\n              <el-table-column label=\"菜品\" prop=\"dishname\" header-align=\"center\" align=\"center\"></el-table-column>\n              <el-table-column label=\"份数\" prop=\"dishcount\" header-align=\"center\" align=\"center\"></el-table-column>\n            </el-table>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"订单号\" prop=\"orderid\">\n        </el-table-column>\n        <el-table-column label=\"订单金额\" prop=\"price\">\n        </el-table-column>\n        <el-table-column label=\"下单日期\" prop=\"ordertime\">\n        </el-table-column>\n        <el-table-column label=\"订单状态\" prop=\"state\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.state }}\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-pagination class=\"pagination\" layout=\"prev, pager, next\" :total=\"pages\">\n      </el-pagination>\n\n      <!-- to do 分页栏 -->\n    </div>\n  </div>\n</template>\n\n<script>\n// to do\n// 1. 查询订单功能\n// 2. 分页\n\nimport headtop from \"./headtop\";\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      searchText: \"\",\n      // allorders: ORDERS,\n      allorders: [],\n      orders_map: [],\n      merchant_id: this.merchant.merchant_id,\n      inputDate: \"\",\n      loading: true,\n      pages: 5,\n      startDate: \"\",\n      endDate: \"\"\n    };\n  },\n  created() {\n    this.getData();\n    // console.log(this.merchant);\n  },\n  components: {\n    headtop\n  },\n  methods: {\n    search: function() {\n      var text = this.searchText;\n      // to do\n      // search orders\n    },\n    getData: function() {\n      console.log('get all orders')\n      const url = 'http://localhost:5000/order'\n      axios.get(url)\n        .then((response) => {\n          this.allorders = response.data\n          console.log('get all orders success')\n          console.log(response.data)\n        })\n        .catch(function (error) {\n          console.log('get all orders fail')\n          console.log(error)\n        })\n    },\n    reArraneOrder() {\n      var startDate = new Date(that.startDate);\n      var endDate = new Date(that.endDate);\n      that.allorders.forEach(element => {\n        var publish_at = new Date(element.publish_at);\n        if (publish_at >= startDate && publish_at <= endDate) {\n          element.show = true;\n        } else {\n          element.show = false;\n        }\n      });\n    },\n    searchOrder(event) {\n      that.loading = true;\n      console.log(event);\n    }\n  }\n};\n</script>\n\n<style scope>\n.info-tag {\n  margin-top: 20px;\n  margin-left: 20px;\n  font-size: 20px;\n}\n\n.orders-table {\n  margin-top: 20px;\n}\n\n.orders-table .date-picker {\n  margin-left: 20px;\n  margin-bottom: 20px;\n}\n\n.orders-table .pagination {\n  margin-top: 20px;\n  text-align: center;\n}\n\n.order {\n  max-width: 95%;\n  margin: 0 auto;\n}\n\n.demo-table-expand {\n  font-size: 0;\n}\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/ordersManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orders\"},[_c('headtop',{on:{\"search\":_vm.search},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}}),_vm._v(\" \"),_c('el-tag',{staticClass:\"info-tag\"},[_vm._v(\"\\n    今日订单\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"orders-table\"},[_c('el-date-picker',{staticClass:\"date-picker\",attrs:{\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.inputDate),callback:function ($$v) {_vm.inputDate=$$v},expression:\"inputDate\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchOrder}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-table',{staticClass:\"order\",staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.allorders}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"桌号\"}},[_c('span',[_vm._v(_vm._s(props.row.tableid))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否已支付\"}},[_c('span',[_vm._v(_vm._s(props.row.state))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('span',[_vm._v(_vm._s(props.row.note))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品\"}})],1),_vm._v(\" \"),_c('el-table',{attrs:{\"data\":props.row.dishes,\"header-align\":\"center\",\"size\":\"mini\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"菜品\",\"prop\":\"dishname\",\"header-align\":\"center\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"份数\",\"prop\":\"dishcount\",\"header-align\":\"center\",\"align\":\"center\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"订单号\",\"prop\":\"orderid\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"订单金额\",\"prop\":\"price\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"下单日期\",\"prop\":\"ordertime\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"订单状态\",\"prop\":\"state\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.state)+\"\\n        \")]}}])})],1),_vm._v(\" \"),_c('el-pagination',{staticClass:\"pagination\",attrs:{\"layout\":\"prev, pager, next\",\"total\":_vm.pages}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-50e59c22\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/ordersManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50e59c22\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./ordersManage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./ordersManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./ordersManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50e59c22\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./ordersManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ordersManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}